<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>자판기</title>
    <style>
      ul {
        display: flex;
        justify-content: space-around;
      }
      ul > li {
        cursor: pointer;
      }
      p {
        text-align: center;
        margin-top: 100px;
      }
      div {
        display: flex;
        justify-content: center;
      }
    </style>
  </head>
  <body>
    <div>
      <button onclick="insertCoin(100)">100원</button>
      <button onclick="insertCoin(500)">500원</button>
      <button onclick="insertCoin(1000)">1000원</button>
      <button onclick="insertCoin(5000)">5000원</button>
      <button onclick="insertCoin(10000)">10000원</button>
      <button onclick="insertCoin(0)">잔돈 반환</button>
    </div>
    <ul>
      <li onclick="cartIn(500)">물</li>
      <li onclick="cartIn(1000)">콜라</li>
      <li onclick="cartIn(3000)">햄버거</li>
      <li onclick="cartIn(10000)">치킨</li>
    </ul>

    <p>현재 잔액은 <span id="Wallet">0</span>원 입니다.</p>
    <p>현재 주문하신 총 가격은 <span id="nowPrice">0</span>원 입니다.</p>
    <p id="notice"></p>
    <div>
      <button onclick="buy()">구매</button>
      <button onclick="emptyCart()">카트 비우기</button>
    </div>
    <script>
      let inMyWallet = 0;
      let totalPrice = 0;

      const insertCoin = (money) => {
        switch (money) {
          case 100:
            inMyWallet += 100;
            document.getElementById("Wallet").innerHTML = inMyWallet;
            break;
          case 500:
            inMyWallet += 500;
            document.getElementById("Wallet").innerHTML = inMyWallet;
            break;
          case 1000:
            inMyWallet += 1000;
            document.getElementById("Wallet").innerHTML = inMyWallet;
            break;
          case 5000:
            inMyWallet += 5000;
            document.getElementById("Wallet").innerHTML = inMyWallet;
            break;
          case 10000:
            inMyWallet += 10000;
            document.getElementById("Wallet").innerHTML = inMyWallet;
            break;
          case 0:
            inMyWallet = 0;
            document.getElementById("Wallet").innerHTML = inMyWallet;
            document.getElementById("notice").innerHTML =
              "잔돈을 반환했습니다.";
            break;
        }
      };
      const cartIn = (price) => {
        switch (price) {
          case 500:
            totalPrice += 500;
            document.getElementById("nowPrice").innerHTML = totalPrice;
            break;
          case 1000:
            totalPrice += 1000;
            document.getElementById("nowPrice").innerHTML = totalPrice;
            break;
          case 3000:
            totalPrice += 3000;
            document.getElementById("nowPrice").innerHTML = totalPrice;
            break;
          case 10000:
            totalPrice += 10000;
            document.getElementById("nowPrice").innerHTML = totalPrice;
            break;
        }
      };

      const buy = (price) => {
        if (totalPrice <= inMyWallet && totalPrice !== 0) {
          inMyWallet -= totalPrice;
          document.getElementById("Wallet").innerHTML = inMyWallet;
          document.getElementById("nowPrice").innerHTML = 0;
          document.getElementById("notice").innerHTML =
            "계산이 완료 되었습니다.";
          totalPrice = 0;
        } else if (totalPrice === 0) {
          document.getElementById("notice").innerHTML =
            "카트에 물건이 없습니다. 물건을 담아 주세요.";
        } else {
          document.getElementById("notice").innerHTML = "잔액이 부족합니다.";
        }
      };

      const emptyCart = () => {
        document.getElementById("nowPrice").innerHTML = 0;
        document.getElementById("notice").innerHTML = "카드를 비웠습니다.";
        totalPrice = 0;
      };
    </script>
  </body>
</html>
